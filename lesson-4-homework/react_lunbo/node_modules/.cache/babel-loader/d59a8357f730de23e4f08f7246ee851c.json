{"ast":null,"code":"var _jsxFileName = \"D:\\\\vscode\\\\projects\\\\homework\\\\lesson-4-homework\\\\react_lunbo\\\\src\\\\app.jsx\";\nimport React, { Component } from 'react';\nimport SliderItem from './components/SliderItem';\nimport SliderDots from './components/SliderDots';\nimport SliderArrows from './components/SliderArrows';\nimport './app.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class app extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      nowLocal: 0\n    };\n  } // 向前向后多少\n\n\n  turn(n) {\n    var num = this.state.nowLocal;\n\n    if (n < 0 && num === 0) {\n      num = this.props.items.length;\n      this.ul.style.left = \"-100 * num + '%'\";\n    }\n\n    if (n > 0 && num === this.props.items.length) {\n      num = 0;\n      this.$ul.style.left = \"0\";\n    }\n\n    num = num + n;\n    this.setState({\n      nowLocal: num\n    });\n  } // 开始自动轮播\n\n\n  goPlay() {\n    if (this.props.autoplay) {\n      this.autoPlayFlag = setInterval(() => {\n        this.turn(1);\n      }, this.props.delay * 1000);\n    }\n  } // 暂停自动轮播\n\n\n  pausePlay() {\n    clearInterval(this.autoPlayFlag);\n  }\n\n  componentDidMount() {\n    this.goPlay();\n  }\n\n  render() {\n    let count = this.props.items.length;\n    let itemNodes = this.props.items.map((item, idx) => {\n      return /*#__PURE__*/_jsxDEV(SliderItem, {\n        item: item,\n        count: count\n      }, 'item' + idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 20\n      }, this);\n    });\n    let item1 = /*#__PURE__*/React.cloneElement(itemNodes[0]);\n\n    let arrowsNode = /*#__PURE__*/_jsxDEV(SliderArrows, {\n      turn: this.turn.bind(this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 26\n    }, this);\n\n    let dotsNode = /*#__PURE__*/_jsxDEV(SliderDots, {\n      turn: this.turn.bind(this),\n      count: count,\n      nowLocal: this.state.nowLocal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 24\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"slider\",\n      onMouseOver: this.props.pause ? this.pausePlay.bind(this) : null,\n      onMouseOut: this.props.pause ? this.goPlay.bind(this) : null,\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          left: -100 * this.state.nowLocal + \"%\",\n          transitionDuration: this.props.speed + \"s\",\n          width: (this.props.items.length + 1) * 100 + \"%\"\n        },\n        children: [itemNodes, item1]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), this.props.arrows ? arrowsNode : null, this.props.dots ? dotsNode : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this);\n  }\n\n}\napp.defaultProps = {\n  speed: 1,\n  delay: 2,\n  pause: true,\n  autoplay: true,\n  dots: true,\n  arrows: true,\n  items: []\n};\napp.autoPlayFlag = null;","map":{"version":3,"sources":["D:/vscode/projects/homework/lesson-4-homework/react_lunbo/src/app.jsx"],"names":["React","Component","SliderItem","SliderDots","SliderArrows","app","constructor","props","state","nowLocal","turn","n","num","items","length","ul","style","left","$ul","setState","goPlay","autoplay","autoPlayFlag","setInterval","delay","pausePlay","clearInterval","componentDidMount","render","count","itemNodes","map","item","idx","item1","cloneElement","arrowsNode","bind","dotsNode","pause","transitionDuration","speed","width","arrows","dots","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport SliderItem from './components/SliderItem'\r\nimport SliderDots from './components/SliderDots'\r\nimport SliderArrows from './components/SliderArrows'\r\nimport './app.css'\r\n\r\nexport default class app extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          nowLocal: 0,\r\n        };\r\n    }\r\n    \r\n    \r\n    // 向前向后多少\r\n    turn(n) {\r\n        var num = this.state.nowLocal\r\n        if(n <0&&num===0) {\r\n            num = this.props.items.length;\r\n            this.ul.style.left=\"-100 * num + '%'\";\r\n        }\r\n        if(n >0&&num === this.props.items.length) {\r\n            num = 0;\r\n            this.$ul.style.left=\"0\";\r\n        }\r\n        num = num + n;\r\n        this.setState({nowLocal: num});\r\n    }\r\n\r\n    // 开始自动轮播\r\n    goPlay() {\r\n        if(this.props.autoplay) {\r\n            this.autoPlayFlag = setInterval(() => {\r\n                this.turn(1);\r\n            }, this.props.delay * 1000);\r\n        }\r\n    }\r\n\r\n    // 暂停自动轮播\r\n    pausePlay() {\r\n        clearInterval(this.autoPlayFlag);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.goPlay();\r\n    }\r\n\r\n    render() {\r\n        let count = this.props.items.length;\r\n\r\n        let itemNodes = this.props.items.map((item, idx) => {\r\n            return <SliderItem item={item} count={count} key={'item' + idx} />;\r\n        });\r\n\r\n        let item1=React.cloneElement(itemNodes[0]);\r\n\r\n        let arrowsNode = <SliderArrows turn={this.turn.bind(this)}/>;\r\n\r\n        let dotsNode = <SliderDots turn={this.turn.bind(this)} count={count} nowLocal={this.state.nowLocal} />;\r\n\r\n        return (\r\n            <div className=\"slider\"\r\n            onMouseOver={this.props.pause?this.pausePlay.bind(this):null} onMouseOut={this.props.pause?this.goPlay.bind(this):null}>\r\n                <ul style={{\r\n                        left: -100 * this.state.nowLocal + \"%\",\r\n                        transitionDuration: this.props.speed + \"s\",\r\n                        width: (this.props.items.length+1) * 100 + \"%\"\r\n                    }}>\r\n                    {itemNodes}\r\n                    {item1}\r\n                </ul>\r\n                {this.props.arrows?arrowsNode:null}\r\n                {this.props.dots?dotsNode:null}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\napp.defaultProps = {\r\n    speed: 1,\r\n    delay: 2,\r\n    pause: true,\r\n    autoplay: true,\r\n    dots: true,\r\n    arrows: true,\r\n    items: [],\r\n};\r\n\r\napp.autoPlayFlag = null;\r\n"]},"metadata":{},"sourceType":"module"}