{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\vscode\\\\projects\\\\homework\\\\lesson-5-homework\\\\toutiao\\\\components\\\\Main\\\\index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React, { useEffect, useState } from 'react';\nexport default function Main() {\n  const {\n    0: list,\n    1: setList\n  } = useState([]);\n\n  function getNews() {\n    fetch(\"/api/news\").then(async res => {\n      const resp = await res.json();\n      setList(l => [...l, ...resp.data]);\n    });\n  }\n\n  useEffect(() => {\n    getNews();\n  }, []);\n\n  function DateDiff(startTime) {\n    var date = new Date().valueOf() / 1000;\n    var timeDiff = date - startTime;\n\n    if (Math.floor(timeDiff / 86400 / 365) >= 1) {\n      return Math.floor(timeDiff / 86400 / 365) + \"年前\";\n    } else if (Math.floor(timeDiff / 86400 / 30) >= 1) {\n      return Math.floor(timeDiff / 86400 / 30) + \"月前\";\n    } else if (Math.floor(timeDiff / 86400) >= 1) {\n      return Math.floor(timeDiff / 86400) + \"天前\";\n    } else if (Math.floor(timeDiff / 3600) >= 1) {\n      return Math.floor(timeDiff / 3600) + \"小时前\";\n    } else if (Math.floor(timeDiff / 60) >= 1) {\n      return Math.floor(timeDiff / 60) + \"分钟前\";\n    } else {\n      return \"刚刚\";\n    }\n  } // const mainRef=useRef();\n  // console.log(mainRef.current)\n\n\n  const {\n    0: scrollPosition,\n    1: setScrollPosition\n  } = useState({});\n  useEffect(() => {\n    const handler = () => {\n      setScrollPosition({\n        scrollH: document.documentElement.scrollHeight,\n        clientH: document.documentElement.clientHeight,\n        scrollT: document.documentElement.scrollTop\n      });\n    };\n\n    window.addEventListener('scroll', handler, {\n      passive: true\n    });\n    return () => {\n      window.removeEventListener('scroll', handler);\n    };\n  }, []); // console.log(scrollPosition.scrollH-scrollPosition.clientH-scrollPosition.scrollT)\n  // 简单的节流函数\n\n  function throttle(func, wait, mustRun) {\n    var timeout,\n        startTime = new Date();\n    return function () {\n      var context = this,\n          args = arguments,\n          curTime = new Date();\n      clearTimeout(timeout); // 如果达到了规定的触发时间间隔，触发 handler\n\n      if (curTime - startTime >= mustRun) {\n        func.apply(context, args);\n        startTime = curTime; // 没达到触发间隔，重新设定定时器\n      } else {\n        timeout = setTimeout(func, wait);\n      }\n    };\n  }\n\n  ;\n\n  if (scrollPosition.scrollH - scrollPosition.clientH <= scrollPosition.scrollT + 400) {\n    throttle(getNews, 500, 1000);\n  } // console.log(list)\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"jsx-4146117004\" + \" \" + \"center-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"jsx-4146117004\" + \" \" + \"msg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"jsx-4146117004\" + \" \" + \"news-list\",\n        children: list.map(i => {\n          if (i.img_url === 'null') {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"jsx-4146117004\" + \" \" + \"mode1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"jsx-4146117004\" + \" \" + \"news-title\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: i.source_url,\n                  className: \"jsx-4146117004\" + \" \" + \"news-link\",\n                  children: i.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"jsx-4146117004\" + \" \" + \"news-footer\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jsx-4146117004\" + \" \" + \"news-footer-left\",\n                  children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"#!\",\n                    className: \"jsx-4146117004\" + \" \" + \"news-tag tag-politic\",\n                    children: i.tag\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: i.url,\n                    className: \"jsx-4146117004\" + \" \" + \"news-media-img\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: i.source_img,\n                      className: \"jsx-4146117004\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 104,\n                      columnNumber: 88\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: i.url,\n                    className: \"jsx-4146117004\" + \" \" + \"news-about\",\n                    children: [\"\\xA0\", i.source, \"\\xA0\\xB7\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"#!\",\n                    className: \"jsx-4146117004\" + \" \" + \"news-about\",\n                    children: [\"\\xA0\", i.comments, \"\\u8BC4\\u8BBA\\xA0\\xB7\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 106,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"jsx-4146117004\" + \" \" + \"news-time\",\n                    children: [\"\\xA0\", DateDiff(i.time)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jsx-4146117004\" + \" \" + \"news-footer-right\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"jsx-4146117004\" + \" \" + \"dislike\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"jsx-4146117004\" + \" \" + \"close\",\n                      children: \"X\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 111,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 33\n            }, this);\n          } else {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"jsx-4146117004\" + \" \" + \"mode2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"jsx-4146117004\" + \" \" + \"mode2-left\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: i.source_url,\n                  className: \"jsx-4146117004\" + \" \" + \"mode2-img\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: i.img_url,\n                    className: \"jsx-4146117004\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"jsx-4146117004\" + \" \" + \"mode2-right\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jsx-4146117004\" + \" \" + \"mode2-news\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"jsx-4146117004\" + \" \" + \"news-title\",\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: i.source_url,\n                      className: \"jsx-4146117004\" + \" \" + \"news-link\",\n                      children: i.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 128,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"jsx-4146117004\" + \" \" + \"news-footer\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"jsx-4146117004\" + \" \" + \"news-footer-left\",\n                      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                        href: \"#!\",\n                        className: \"jsx-4146117004\" + \" \" + \"news-tag tag-politic\",\n                        children: i.tag\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 132,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                        href: i.url,\n                        className: \"jsx-4146117004\" + \" \" + \"news-media-img\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: i.source_img,\n                          className: \"jsx-4146117004\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 133,\n                          columnNumber: 92\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 133,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                        href: i.url,\n                        className: \"jsx-4146117004\" + \" \" + \"news-about\",\n                        children: [\"\\xA0\", i.source, \"\\xA0\\xB7\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 134,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                        href: \"#!\",\n                        className: \"jsx-4146117004\" + \" \" + \"news-about\",\n                        children: [\"\\xA0\", i.comments, \"\\u8BC4\\u8BBA\\xA0\\xB7\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 135,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"jsx-4146117004\" + \" \" + \"news-time\",\n                        children: [\"\\xA0\", DateDiff(i.time)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 136,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 131,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"jsx-4146117004\" + \" \" + \"news-footer-right\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"jsx-4146117004\" + \" \" + \"dislike\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"jsx-4146117004\" + \" \" + \"close\",\n                          children: \"X\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 140,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 139,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 138,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 33\n            }, this);\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"4146117004\",\n      children: \".center-content.jsx-4146117004{width:660px;display:inline-block;margin:0 auto;}.mode1.jsx-4146117004{padding:10px 0;border-bottom:1px solid #e8e8e8;}.news-title.jsx-4146117004{font-size:20px;margin-bottom:4px;line-height:1.3;font-weight:700;max-height:52px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.news-link.jsx-4146117004{color:#222;}.news-footer.jsx-4146117004{color:#999;margin-top:10px;height:20px;}.news-footer-left.jsx-4146117004{display:inline-block;vertical-align:middle;line-height:20px;font-size:0;}.news-footer-left.jsx-4146117004>*.jsx-4146117004{display:inline-block;vertical-align:middle;line-height:1;font-size:14px;}.news-tag.jsx-4146117004{font-size:12px;margin-right:10px;padding:1px 2px;border:1px solid #87a5b5;color:#87a5b5;}.tag-video.jsx-4146117004{border:1px solid #ff7920;color:#ff7920;}.news-media-img.jsx-4146117004{width:18px;height:18px;margin-right:2px;border-radius:50%;overflow:hidden;}.news-media-img.jsx-4146117004 img.jsx-4146117004{width:18px;height:18px;border-radius:50%;}.news-about.jsx-4146117004{font-size:14px;color:#777;}.news-time.jsx-4146117004{color:#777;}.mode2.jsx-4146117004{height:102px;padding:10px 0;border-bottom:1px solid #e8e8e8;}.mode2-left.jsx-4146117004{width:158px;height:102px;margin-right:16px;overflow:hidden;float:left;}.mode2-img.jsx-4146117004{display:inline-block;position:relative;-webkit-transform-style:preserve-3d;-ms-transform-style:preserve-3d;transform-style:preserve-3d;}.mode2-img.jsx-4146117004>img.jsx-4146117004{width:158px;height:102px;-webkit-transition:all 0.5s;transition:all 0.5s;}.video-tip.jsx-4146117004{position:absolute;right:8px;bottom:8px;padding:0 6px 0 18px;background-color:rgba(0,0,0,0.7);border-radius:10px;font-size:12px;color:#fff;height:22px;line-height:22px;}.video-tip.jsx-4146117004::before{content:\\\"\\\";position:absolute;top:7px;left:8px;border-style:solid;border-width:5px;border-color:transparent transparent transparent #fff;}.mode2-right.jsx-4146117004{overflow:hidden;height:100%;position:relative;}.mode2-news.jsx-4146117004{display:inline-block;width:100%;vertical-align:middle;position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);}.news-footer-right.jsx-4146117004{float:right;}.dislike.jsx-4146117004{height:20px;width:20px;}.close.jsx-4146117004{font-size:12px;color:#ddd;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFx2c2NvZGVcXHByb2plY3RzXFxob21ld29ya1xcbGVzc29uLTUtaG9tZXdvcmtcXHRvdXRpYW9cXGNvbXBvbmVudHNcXE1haW5cXGluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXdKd0IsQUFHNkIsQUFNTyxBQUtBLEFBYUosQUFJQSxBQU1VLEFBT0EsQUFPTixBQVFVLEFBS2QsQUFRQSxBQU1JLEFBS0osQUFJRSxBQU1ELEFBUVMsQUFNVCxBQU1NLEFBYVAsQUFVSyxBQU1LLEFBU1QsQUFJQSxBQUtHLFdBcEluQixBQUlvQixBQWlDSixBQVFBLEFBV2hCLEFBMkNzQixDQTNIRCxBQTBGSixBQWNBLEFBNENqQixBQUllLENBcEVJLEVBOUVpQixBQUtkLEFBcUNBLEFBMkJQLEFBa0ZBLENBeEJDLEVBdkJGLEdBNUVZLEFBT0EsQUF5REosQUF5Q1AsRUE3RU0sQUFRQyxBQW1GdEIsRUFqR2tCLEFBbUNJLEFBY0UsQ0E3QnhCLEFBa0ZBLENBaklnQixDQXdEb0IsQUEwQnJCLEFBdUJPLENBVlYsR0FnQmMsQ0EzSVosQUFXTSxBQXFDQSxJQTRFUCxFQS9GYixBQTJCQSxBQTBDZ0MsQUFhUCxDQWpESCxDQVF0QixFQXBDcUIsQUFPSCxBQWtERSxHQWtDRyxBQVN2QixDQXJJQSxBQUtBLEVBTW9CLEFBcUNTLEtBMkZQLEdBbEdILENBcUJDLENBNkJMLENBekRDLEFBa0RoQixBQTJCd0MsS0FuR3BCLEFBaUhDLEtBakNyQixFQXpEQSxBQU9BLEFBa0dZLENBcENaLENBdkRrQixBQWNsQixNQThFK0IsQ0FoSVgsQ0FpSHNDLE1BNUUxRCxLQThEdUIsSUFsR0ksZUFtR1IsUUFsR0ssT0FtR1QsUUFoQmYsQ0E2QkEsRUFaZ0IsRUFuR2dCLFVBb0dYLGlCQUNyQixDQXBHeUIsS0E2SHpCLGdCQTVIQSIsImZpbGUiOiJEOlxcdnNjb2RlXFxwcm9qZWN0c1xcaG9tZXdvcmtcXGxlc3Nvbi01LWhvbWV3b3JrXFx0b3V0aWFvXFxjb21wb25lbnRzXFxNYWluXFxpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlfSBmcm9tICdyZWFjdCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1haW4oKSB7XHJcbiAgICBjb25zdCBbbGlzdCwgc2V0TGlzdF0gPSB1c2VTdGF0ZShbXSk7XHJcbiAgICBmdW5jdGlvbiBnZXROZXdzKCkge1xyXG4gICAgICAgIGZldGNoKFwiL2FwaS9uZXdzXCIpLnRoZW4oYXN5bmMgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgc2V0TGlzdCggbD0+Wy4uLmwsLi4ucmVzcC5kYXRhXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgZ2V0TmV3cygpXHJcbiAgICB9LCBbXSk7XHJcblxyXG4gICAgZnVuY3Rpb24gRGF0ZURpZmYoc3RhcnRUaW1lKSB7XHJcbiAgICAgICAgdmFyIGRhdGUgPSAobmV3IERhdGUoKSkudmFsdWVPZigpIC8gMTAwMDtcclxuICAgICAgICB2YXIgdGltZURpZmYgPSBkYXRlIC0gc3RhcnRUaW1lXHJcbiAgICAgICAgaWYgKE1hdGguZmxvb3IodGltZURpZmYgLyA4NjQwMCAvIDM2NSkgPj0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih0aW1lRGlmZiAvIDg2NDAwIC8gMzY1KSArIFwi5bm05YmNXCI7XHJcbiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmZsb29yKHRpbWVEaWZmIC8gODY0MDAgLyAzMCkgPj0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih0aW1lRGlmZiAvIDg2NDAwIC8gMzApICsgXCLmnIjliY1cIjtcclxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguZmxvb3IodGltZURpZmYgLyA4NjQwMCkgPj0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih0aW1lRGlmZiAvIDg2NDAwKSArIFwi5aSp5YmNXCI7XHJcbiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmZsb29yKHRpbWVEaWZmIC8gMzYwMCkgPj0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih0aW1lRGlmZiAvIDM2MDApICsgXCLlsI/ml7bliY1cIjtcclxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguZmxvb3IodGltZURpZmYgLyA2MCkgPj0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih0aW1lRGlmZiAvIDYwKSArIFwi5YiG6ZKf5YmNXCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwi5Yia5YiaXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyBjb25zdCBtYWluUmVmPXVzZVJlZigpO1xyXG4gICAgLy8gY29uc29sZS5sb2cobWFpblJlZi5jdXJyZW50KVxyXG5cclxuICAgIGNvbnN0IFtzY3JvbGxQb3NpdGlvbiwgc2V0U2Nyb2xsUG9zaXRpb25dID0gdXNlU3RhdGUoe30pO1xyXG5cclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICBzZXRTY3JvbGxQb3NpdGlvbih7XHJcbiAgICAgICAgICAgIHNjcm9sbEg6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsIFxyXG4gICAgICAgICAgICBjbGllbnRIOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LFxyXG4gICAgICAgICAgICBzY3JvbGxUOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsaGFuZGxlciwgeyBwYXNzaXZlOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICB9LCBbXSk7XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coc2Nyb2xsUG9zaXRpb24uc2Nyb2xsSC1zY3JvbGxQb3NpdGlvbi5jbGllbnRILXNjcm9sbFBvc2l0aW9uLnNjcm9sbFQpXHJcblxyXG4gICAgLy8g566A5Y2V55qE6IqC5rWB5Ye95pWwXHJcbiAgICBmdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0LCBtdXN0UnVuKSB7XHJcbiAgICAgICAgdmFyIHRpbWVvdXQsXHJcbiAgICAgICAgICAgIHN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7XHJcbiAgICBcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gdGhpcyxcclxuICAgICAgICAgICAgICAgIGFyZ3MgPSBhcmd1bWVudHMsXHJcbiAgICAgICAgICAgICAgICBjdXJUaW1lID0gbmV3IERhdGUoKTtcclxuICAgIFxyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICAgICAgICAgIC8vIOWmguaenOi+vuWIsOS6huinhOWumueahOinpuWPkeaXtumXtOmXtOmalO+8jOinpuWPkSBoYW5kbGVyXHJcbiAgICAgICAgICAgIGlmKGN1clRpbWUgLSBzdGFydFRpbWUgPj0gbXVzdFJ1bil7XHJcbiAgICAgICAgICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsYXJncyk7XHJcbiAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSBjdXJUaW1lO1xyXG4gICAgICAgICAgICAvLyDmsqHovr7liLDop6blj5Hpl7TpmpTvvIzph43mlrDorr7lrprlrprml7blmahcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jLCB3YWl0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIGlmKHNjcm9sbFBvc2l0aW9uLnNjcm9sbEgtc2Nyb2xsUG9zaXRpb24uY2xpZW50SDw9c2Nyb2xsUG9zaXRpb24uc2Nyb2xsVCs0MDApIHtcclxuICAgICAgICB0aHJvdHRsZShnZXROZXdzLDUwMCwxMDAwKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gY29uc29sZS5sb2cobGlzdClcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDw+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2VudGVyLWNvbnRlbnRcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXNnXCI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmV3cy1saXN0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAge2xpc3QubWFwKChpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGkuaW1nX3VybD09PSdudWxsJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGUxXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmV3cy10aXRsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwibmV3cy1saW5rXCIgaHJlZj17aS5zb3VyY2VfdXJsfT57aS50aXRsZX08L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ld3MtZm9vdGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ld3MtZm9vdGVyLWxlZnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJuZXdzLXRhZyB0YWctcG9saXRpY1wiIGhyZWY9XCIjIVwiPntpLnRhZ308L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwibmV3cy1tZWRpYS1pbWdcIiBocmVmPXtpLnVybH0+PGltZyBzcmM9e2kuc291cmNlX2ltZ30gLz48L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwibmV3cy1hYm91dFwiIGhyZWY9e2kudXJsfT4mbmJzcDt7aS5zb3VyY2V9Jm5ic3A7wrc8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwibmV3cy1hYm91dFwiIGhyZWY9XCIjIVwiPiZuYnNwO3tpLmNvbW1lbnRzfeivhOiuuiZuYnNwO8K3PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm5ld3MtdGltZVwiPiZuYnNwO3tEYXRlRGlmZihpLnRpbWUpfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXdzLWZvb3Rlci1yaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGlzbGlrZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjbG9zZVwiPlg8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kZTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RlMi1sZWZ0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJtb2RlMi1pbWdcIiBocmVmPXtpLnNvdXJjZV91cmx9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtpLmltZ191cmx9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGUyLXJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGUyLW5ld3NcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ld3MtdGl0bGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJuZXdzLWxpbmtcIiBocmVmPXtpLnNvdXJjZV91cmx9PntpLnRpdGxlfTwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXdzLWZvb3RlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmV3cy1mb290ZXItbGVmdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJuZXdzLXRhZyB0YWctcG9saXRpY1wiIGhyZWY9XCIjIVwiPntpLnRhZ308L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cIm5ld3MtbWVkaWEtaW1nXCIgaHJlZj17aS51cmx9PjxpbWcgc3JjPXtpLnNvdXJjZV9pbWd9IC8+PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJuZXdzLWFib3V0XCIgaHJlZj17aS51cmx9PiZuYnNwO3tpLnNvdXJjZX0mbmJzcDvCtzwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwibmV3cy1hYm91dFwiIGhyZWY9XCIjIVwiPiZuYnNwO3tpLmNvbW1lbnRzfeivhOiuuiZuYnNwO8K3PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJuZXdzLXRpbWVcIj4mbmJzcDt7RGF0ZURpZmYoaS50aW1lKX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXdzLWZvb3Rlci1yaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRpc2xpa2VcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNsb3NlXCI+WDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAgICAgICAgLmNlbnRlci1jb250ZW50IHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA2NjBweDtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAubW9kZTEge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMDtcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U4ZThlODtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLm5ld3MtdGl0bGUge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA0cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuMztcclxuICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNzAwO1xyXG4gICAgICAgICAgICAgICAgICAgIG1heC1oZWlnaHQ6IDUycHg7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcclxuICAgICAgICAgICAgICAgICAgICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsO1xyXG4gICAgICAgICAgICAgICAgICAgIC13ZWJraXQtbGluZS1jbGFtcDogMjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLm5ld3MtbGluayB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICMyMjI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC5uZXdzLWZvb3RlciB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM5OTk7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDIwcHg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC5uZXdzLWZvb3Rlci1sZWZ0IHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMjBweDtcclxuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC5uZXdzLWZvb3Rlci1sZWZ0Pioge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLm5ld3MtdGFnIHtcclxuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDFweCAycHg7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzg3YTViNTtcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzg3YTViNTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLnRhZy12aWRlbyB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2ZmNzkyMDtcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogI2ZmNzkyMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLm5ld3MtbWVkaWEtaW1nIHtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogMThweDtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDE4cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAycHg7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC5uZXdzLW1lZGlhLWltZyBpbWcge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxOHB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMThweDtcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC5uZXdzLWFib3V0IHtcclxuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM3Nzc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC5uZXdzLXRpbWUge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjNzc3O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAubW9kZTIge1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTAycHg7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMTBweCAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZThlOGU4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAubW9kZTItbGVmdCB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDE1OHB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTAycHg7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxNnB4O1xyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgICAgICAgICAgICAgICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC5tb2RlMi1pbWcge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLXN0eWxlOiBwcmVzZXJ2ZS0zZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLm1vZGUyLWltZz5pbWcge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxNThweDtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMnB4O1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjVzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAudmlkZW8tdGlwIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDhweDtcclxuICAgICAgICAgICAgICAgICAgICBib3R0b206IDhweDtcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwIDZweCAwIDE4cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMjJweDtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMjJweDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLnZpZGVvLXRpcDo6YmVmb3JlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IDdweDtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiA4cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXItd2lkdGg6IDVweDtcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50ICNmZmY7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC5tb2RlMi1yaWdodCB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAubW9kZTItbmV3cyB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogNTAlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLm5ld3MtZm9vdGVyLXJpZ2h0IHtcclxuICAgICAgICAgICAgICAgICAgICBmbG9hdDogcmlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC5kaXNsaWtlIHtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDIwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDIwcHg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC5jbG9zZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZGRkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICAgICAgPC8+XHJcbiAgICApXHJcbn0iXX0= */\\n/*@ sourceURL=D:\\\\\\\\vscode\\\\\\\\projects\\\\\\\\homework\\\\\\\\lesson-5-homework\\\\\\\\toutiao\\\\\\\\components\\\\\\\\Main\\\\\\\\index.js */\"\n    }, void 0, false, void 0, this)]\n  }, void 0, true);\n}","map":{"version":3,"sources":["D:/vscode/projects/homework/lesson-5-homework/toutiao/components/Main/index.js"],"names":["React","useEffect","useState","Main","list","setList","getNews","fetch","then","res","resp","json","l","data","DateDiff","startTime","date","Date","valueOf","timeDiff","Math","floor","scrollPosition","setScrollPosition","handler","scrollH","document","documentElement","scrollHeight","clientH","clientHeight","scrollT","scrollTop","window","addEventListener","passive","removeEventListener","throttle","func","wait","mustRun","timeout","context","args","arguments","curTime","clearTimeout","apply","setTimeout","map","i","img_url","source_url","title","tag","url","source_img","source","comments","time"],"mappings":"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","sourcesContent":["import React, { useEffect, useState} from 'react'\r\n\r\nexport default function Main() {\r\n    const [list, setList] = useState([]);\r\n    function getNews() {\r\n        fetch(\"/api/news\").then(async (res) => {\r\n            const resp = await res.json();\r\n            setList( l=>[...l,...resp.data]);\r\n        });\r\n    }\r\n    \r\n    useEffect(() => {\r\n        getNews()\r\n    }, []);\r\n\r\n    function DateDiff(startTime) {\r\n        var date = (new Date()).valueOf() / 1000;\r\n        var timeDiff = date - startTime\r\n        if (Math.floor(timeDiff / 86400 / 365) >= 1) {\r\n            return Math.floor(timeDiff / 86400 / 365) + \"年前\";\r\n        } else if (Math.floor(timeDiff / 86400 / 30) >= 1) {\r\n            return Math.floor(timeDiff / 86400 / 30) + \"月前\";\r\n        } else if (Math.floor(timeDiff / 86400) >= 1) {\r\n            return Math.floor(timeDiff / 86400) + \"天前\";\r\n        } else if (Math.floor(timeDiff / 3600) >= 1) {\r\n            return Math.floor(timeDiff / 3600) + \"小时前\";\r\n        } else if (Math.floor(timeDiff / 60) >= 1) {\r\n            return Math.floor(timeDiff / 60) + \"分钟前\";\r\n        } else {\r\n            return \"刚刚\";\r\n        }\r\n\r\n    }\r\n\r\n    // const mainRef=useRef();\r\n    // console.log(mainRef.current)\r\n\r\n    const [scrollPosition, setScrollPosition] = useState({});\r\n\r\n\r\n    useEffect(() => {\r\n        \r\n        const handler = () => {\r\n          setScrollPosition({\r\n            scrollH: document.documentElement.scrollHeight, \r\n            clientH: document.documentElement.clientHeight,\r\n            scrollT: document.documentElement.scrollTop,\r\n          });\r\n        };\r\n\r\n        window.addEventListener('scroll',handler, { passive: true });\r\n\r\n        return () => {\r\n          window.removeEventListener('scroll', handler);\r\n        };\r\n    }, []);\r\n\r\n    // console.log(scrollPosition.scrollH-scrollPosition.clientH-scrollPosition.scrollT)\r\n\r\n    // 简单的节流函数\r\n    function throttle(func, wait, mustRun) {\r\n        var timeout,\r\n            startTime = new Date();\r\n    \r\n        return function() {\r\n            var context = this,\r\n                args = arguments,\r\n                curTime = new Date();\r\n    \r\n            clearTimeout(timeout);\r\n            // 如果达到了规定的触发时间间隔，触发 handler\r\n            if(curTime - startTime >= mustRun){\r\n                func.apply(context,args);\r\n                startTime = curTime;\r\n            // 没达到触发间隔，重新设定定时器\r\n            }else{\r\n                timeout = setTimeout(func, wait);\r\n            }\r\n        };\r\n    };\r\n\r\n    if(scrollPosition.scrollH-scrollPosition.clientH<=scrollPosition.scrollT+400) {\r\n        throttle(getNews,500,1000);\r\n    }\r\n    \r\n    // console.log(list)\r\n\r\n    return (\r\n        <>\r\n            <div className=\"center-content\">\r\n                <div className=\"msg\">\r\n                </div>\r\n                <div className=\"news-list\">\r\n                    {list.map((i) => {\r\n                        if(i.img_url==='null') {\r\n                            return (\r\n                                <div className=\"mode1\">\r\n                                    <div className=\"news-title\">\r\n                                        <a className=\"news-link\" href={i.source_url}>{i.title}</a>\r\n                                    </div>\r\n                                    <div className=\"news-footer\">\r\n                                        <div className=\"news-footer-left\">\r\n                                            <a className=\"news-tag tag-politic\" href=\"#!\">{i.tag}</a>\r\n                                            <a className=\"news-media-img\" href={i.url}><img src={i.source_img} /></a>\r\n                                            <a className=\"news-about\" href={i.url}>&nbsp;{i.source}&nbsp;·</a>\r\n                                            <a className=\"news-about\" href=\"#!\">&nbsp;{i.comments}评论&nbsp;·</a>\r\n                                            <span className=\"news-time\">&nbsp;{DateDiff(i.time)}</span>\r\n                                        </div>\r\n                                        <div className=\"news-footer-right\">\r\n                                            <div className=\"dislike\">\r\n                                                <span className=\"close\">X</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        }else {\r\n                            return (\r\n                                <div className=\"mode2\">\r\n                                    <div className=\"mode2-left\">\r\n                                        <a className=\"mode2-img\" href={i.source_url}>\r\n                                            <img src={i.img_url} />\r\n                                        </a>\r\n                                    </div>\r\n                                    <div className=\"mode2-right\">\r\n                                        <div className=\"mode2-news\">\r\n                                            <div className=\"news-title\">\r\n                                            <a className=\"news-link\" href={i.source_url}>{i.title}</a>\r\n                                        </div>\r\n                                        <div className=\"news-footer\">\r\n                                            <div className=\"news-footer-left\">\r\n                                                <a className=\"news-tag tag-politic\" href=\"#!\">{i.tag}</a>\r\n                                                <a className=\"news-media-img\" href={i.url}><img src={i.source_img} /></a>\r\n                                                <a className=\"news-about\" href={i.url}>&nbsp;{i.source}&nbsp;·</a>\r\n                                                <a className=\"news-about\" href=\"#!\">&nbsp;{i.comments}评论&nbsp;·</a>\r\n                                                <span className=\"news-time\">&nbsp;{DateDiff(i.time)}</span>\r\n                                            </div>\r\n                                            <div className=\"news-footer-right\">\r\n                                                <div className=\"dislike\">\r\n                                                    <span className=\"close\">X</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        }\r\n                        \r\n                    })}\r\n                </div>\r\n            </div>\r\n            <style jsx>{`\r\n               .center-content {\r\n                width: 660px;\r\n                display: inline-block;\r\n                margin: 0 auto;\r\n                }\r\n                \r\n                .mode1 {\r\n                    padding: 10px 0;\r\n                    border-bottom: 1px solid #e8e8e8;\r\n                }\r\n                \r\n                .news-title {\r\n                    font-size: 20px;\r\n                    margin-bottom: 4px;\r\n                    line-height: 1.3;\r\n                    font-weight: 700;\r\n                    max-height: 52px;\r\n                    overflow: hidden;\r\n                    text-overflow: ellipsis;\r\n                    display: -webkit-box;\r\n                    -webkit-box-orient: vertical;\r\n                    -webkit-line-clamp: 2;\r\n                }\r\n                \r\n                .news-link {\r\n                    color: #222;\r\n                }\r\n                \r\n                .news-footer {\r\n                    color: #999;\r\n                    margin-top: 10px;\r\n                    height: 20px;\r\n                }\r\n                \r\n                .news-footer-left {\r\n                    display: inline-block;\r\n                    vertical-align: middle;\r\n                    line-height: 20px;\r\n                    font-size: 0;\r\n                }\r\n                \r\n                .news-footer-left>* {\r\n                    display: inline-block;\r\n                    vertical-align: middle;\r\n                    line-height: 1;\r\n                    font-size: 14px;\r\n                }\r\n                \r\n                .news-tag {\r\n                    font-size: 12px;\r\n                    margin-right: 10px;\r\n                    padding: 1px 2px;\r\n                    border: 1px solid #87a5b5;\r\n                    color: #87a5b5;\r\n                }\r\n                \r\n                .tag-video {\r\n                    border: 1px solid #ff7920;\r\n                    color: #ff7920;\r\n                }\r\n                \r\n                .news-media-img {\r\n                    width: 18px;\r\n                    height: 18px;\r\n                    margin-right: 2px;\r\n                    border-radius: 50%;\r\n                    overflow: hidden;\r\n                }\r\n                \r\n                .news-media-img img {\r\n                    width: 18px;\r\n                    height: 18px;\r\n                    border-radius: 50%;\r\n                }\r\n                \r\n                .news-about {\r\n                    font-size: 14px;\r\n                    color: #777;\r\n                }\r\n                \r\n                .news-time {\r\n                    color: #777;\r\n                }\r\n                \r\n                .mode2 {\r\n                    height: 102px;\r\n                    padding: 10px 0;\r\n                    border-bottom: 1px solid #e8e8e8;\r\n                }\r\n                \r\n                .mode2-left {\r\n                    width: 158px;\r\n                    height: 102px;\r\n                    margin-right: 16px;\r\n                    overflow: hidden;\r\n                    float: left;\r\n                }\r\n                \r\n                .mode2-img {\r\n                    display: inline-block;\r\n                    position: relative;\r\n                    transform-style: preserve-3d;\r\n                }\r\n                \r\n                .mode2-img>img {\r\n                    width: 158px;\r\n                    height: 102px;\r\n                    transition: all 0.5s;\r\n                }\r\n                \r\n                .video-tip {\r\n                    position: absolute;\r\n                    right: 8px;\r\n                    bottom: 8px;\r\n                    padding: 0 6px 0 18px;\r\n                    background-color: rgba(0, 0, 0, 0.7);\r\n                    border-radius: 10px;\r\n                    font-size: 12px;\r\n                    color: #fff;\r\n                    height: 22px;\r\n                    line-height: 22px;\r\n                }\r\n                \r\n                .video-tip::before {\r\n                    content: \"\";\r\n                    position: absolute;\r\n                    top: 7px;\r\n                    left: 8px;\r\n                    border-style: solid;\r\n                    border-width: 5px;\r\n                    border-color: transparent transparent transparent #fff;\r\n                }\r\n                \r\n                .mode2-right {\r\n                    overflow: hidden;\r\n                    height: 100%;\r\n                    position: relative;\r\n                }\r\n                \r\n                .mode2-news {\r\n                    display: inline-block;\r\n                    width: 100%;\r\n                    vertical-align: middle;\r\n                    position: absolute;\r\n                    top: 50%;\r\n                    transform: translateY(-50%);\r\n                }\r\n                \r\n                .news-footer-right {\r\n                    float: right;\r\n                }\r\n                \r\n                .dislike {\r\n                    height: 20px;\r\n                    width: 20px;\r\n                }\r\n                \r\n                .close {\r\n                    font-size: 12px;\r\n                    color: #ddd;\r\n                }\r\n            `}</style>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}