{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[11],{CNuy:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/components/Main\",function(){return s(\"DhfC\")}])},DhfC:function(e,t,s){\"use strict\";s.r(t),s.d(t,\"default\",(function(){return m}));var n=s(\"nKUr\");function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if(\"string\"===typeof e)return r(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===s&&e.constructor&&(s=e.constructor.name),\"Map\"===s||\"Set\"===s?Array.from(e):\"Arguments\"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?r(e,t):void 0}}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}var o=s(\"o0o1\"),a=s.n(o);function c(e,t,s,n,r,i,o){try{var a=e[i](o),c=a.value}catch(l){return void s(l)}a.done?t(c):Promise.resolve(c).then(n,r)}function l(e){return function(){var t=this,s=arguments;return new Promise((function(n,r){var i=e.apply(t,s);function o(e){c(i,n,r,o,a,\"next\",e)}function a(e){c(i,n,r,o,a,\"throw\",e)}o(void 0)}))}}var d=s(\"MX0m\"),x=s.n(d),j=s(\"q1tI\");function m(){var e=Object(j.useState)([]),t=e[0],s=e[1];function r(e){var t=(new Date).valueOf()/1e3-e;return Math.floor(t/86400/365)>=1?Math.floor(t/86400/365)+\"\\u5e74\\u524d\":Math.floor(t/86400/30)>=1?Math.floor(t/86400/30)+\"\\u6708\\u524d\":Math.floor(t/86400)>=1?Math.floor(t/86400)+\"\\u5929\\u524d\":Math.floor(t/3600)>=1?Math.floor(t/3600)+\"\\u5c0f\\u65f6\\u524d\":Math.floor(t/60)>=1?Math.floor(t/60)+\"\\u5206\\u949f\\u524d\":\"\\u521a\\u521a\"}Object(j.useEffect)((function(){fetch(\"/api/news\").then(function(){var e=l(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,s(n.data);case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var o=Object(j.useState)({}),c=o[0],d=o[1];return Object(j.useEffect)((function(){var e=function(){d({scrollH:document.documentElement.scrollHeight,clientH:document.documentElement.clientHeight,scrollT:document.documentElement.scrollTop})};return window.addEventListener(\"scroll\",e,{passive:!0}),function(){window.removeEventListener(\"scroll\",e)}}),[]),c.scrollH-c.clientH<=c.scrollT+400&&fetch(\"/api/news\").then(function(){var e=l(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,s((function(e){return[].concat(i(e),i(n.data))}));case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(\"div\",{className:\"jsx-4146117004 center-content\",children:[Object(n.jsx)(\"div\",{className:\"jsx-4146117004 msg\"}),Object(n.jsx)(\"div\",{className:\"jsx-4146117004 news-list\",children:t.map((function(e){return\"null\"===e.img_url?Object(n.jsxs)(\"div\",{className:\"jsx-4146117004 mode1\",children:[Object(n.jsx)(\"div\",{className:\"jsx-4146117004 news-title\",children:Object(n.jsx)(\"a\",{href:e.source_url,className:\"jsx-4146117004 news-link\",children:e.title})}),Object(n.jsxs)(\"div\",{className:\"jsx-4146117004 news-footer\",children:[Object(n.jsxs)(\"div\",{className:\"jsx-4146117004 news-footer-left\",children:[Object(n.jsx)(\"a\",{href:\"#!\",className:\"jsx-4146117004 news-tag tag-politic\",children:e.tag}),Object(n.jsx)(\"a\",{href:e.url,className:\"jsx-4146117004 news-media-img\",children:Object(n.jsx)(\"img\",{src:e.source_img,className:\"jsx-4146117004\"})}),Object(n.jsxs)(\"a\",{href:e.url,className:\"jsx-4146117004 news-about\",children:[\"\\xa0\",e.source,\"\\xa0\\xb7\"]}),Object(n.jsxs)(\"a\",{href:\"#!\",className:\"jsx-4146117004 news-about\",children:[\"\\xa0\",e.comments,\"\\u8bc4\\u8bba\\xa0\\xb7\"]}),Object(n.jsxs)(\"span\",{className:\"jsx-4146117004 news-time\",children:[\"\\xa0\",r(e.time)]})]}),Object(n.jsx)(\"div\",{className:\"jsx-4146117004 news-footer-right\",children:Object(n.jsx)(\"div\",{className:\"jsx-4146117004 dislike\",children:Object(n.jsx)(\"span\",{className:\"jsx-4146117004 close\",children:\"X\"})})})]})]}):Object(n.jsxs)(\"div\",{className:\"jsx-4146117004 mode2\",children:[Object(n.jsx)(\"div\",{className:\"jsx-4146117004 mode2-left\",children:Object(n.jsx)(\"a\",{href:e.source_url,className:\"jsx-4146117004 mode2-img\",children:Object(n.jsx)(\"img\",{src:e.img_url,className:\"jsx-4146117004\"})})}),Object(n.jsx)(\"div\",{className:\"jsx-4146117004 mode2-right\",children:Object(n.jsxs)(\"div\",{className:\"jsx-4146117004 mode2-news\",children:[Object(n.jsx)(\"div\",{className:\"jsx-4146117004 news-title\",children:Object(n.jsx)(\"a\",{href:e.source_url,className:\"jsx-4146117004 news-link\",children:e.title})}),Object(n.jsxs)(\"div\",{className:\"jsx-4146117004 news-footer\",children:[Object(n.jsxs)(\"div\",{className:\"jsx-4146117004 news-footer-left\",children:[Object(n.jsx)(\"a\",{href:\"#!\",className:\"jsx-4146117004 news-tag tag-politic\",children:e.tag}),Object(n.jsx)(\"a\",{href:e.url,className:\"jsx-4146117004 news-media-img\",children:Object(n.jsx)(\"img\",{src:e.source_img,className:\"jsx-4146117004\"})}),Object(n.jsxs)(\"a\",{href:e.url,className:\"jsx-4146117004 news-about\",children:[\"\\xa0\",e.source,\"\\xa0\\xb7\"]}),Object(n.jsxs)(\"a\",{href:\"#!\",className:\"jsx-4146117004 news-about\",children:[\"\\xa0\",e.comments,\"\\u8bc4\\u8bba\\xa0\\xb7\"]}),Object(n.jsxs)(\"span\",{className:\"jsx-4146117004 news-time\",children:[\"\\xa0\",r(e.time)]})]}),Object(n.jsx)(\"div\",{className:\"jsx-4146117004 news-footer-right\",children:Object(n.jsx)(\"div\",{className:\"jsx-4146117004 dislike\",children:Object(n.jsx)(\"span\",{className:\"jsx-4146117004 close\",children:\"X\"})})})]})]})})]})}))})]}),Object(n.jsx)(x.a,{id:\"4146117004\",children:[\".center-content.jsx-4146117004{width:660px;display:inline-block;margin:0 auto;}\",\".mode1.jsx-4146117004{padding:10px 0;border-bottom:1px solid #e8e8e8;}\",\".news-title.jsx-4146117004{font-size:20px;margin-bottom:4px;line-height:1.3;font-weight:700;max-height:52px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;}\",\".news-link.jsx-4146117004{color:#222;}\",\".news-footer.jsx-4146117004{color:#999;margin-top:10px;height:20px;}\",\".news-footer-left.jsx-4146117004{display:inline-block;vertical-align:middle;line-height:20px;font-size:0;}\",\".news-footer-left.jsx-4146117004>*.jsx-4146117004{display:inline-block;vertical-align:middle;line-height:1;font-size:14px;}\",\".news-tag.jsx-4146117004{font-size:12px;margin-right:10px;padding:1px 2px;border:1px solid #87a5b5;color:#87a5b5;}\",\".tag-video.jsx-4146117004{border:1px solid #ff7920;color:#ff7920;}\",\".news-media-img.jsx-4146117004{width:18px;height:18px;margin-right:2px;border-radius:50%;overflow:hidden;}\",\".news-media-img.jsx-4146117004 img.jsx-4146117004{width:18px;height:18px;border-radius:50%;}\",\".news-about.jsx-4146117004{font-size:14px;color:#777;}\",\".news-time.jsx-4146117004{color:#777;}\",\".mode2.jsx-4146117004{height:102px;padding:10px 0;border-bottom:1px solid #e8e8e8;}\",\".mode2-left.jsx-4146117004{width:158px;height:102px;margin-right:16px;overflow:hidden;float:left;}\",\".mode2-img.jsx-4146117004{display:inline-block;position:relative;-webkit-transform-style:preserve-3d;-ms-transform-style:preserve-3d;transform-style:preserve-3d;}\",\".mode2-img.jsx-4146117004>img.jsx-4146117004{width:158px;height:102px;-webkit-transition:all 0.5s;transition:all 0.5s;}\",\".video-tip.jsx-4146117004{position:absolute;right:8px;bottom:8px;padding:0 6px 0 18px;background-color:rgba(0,0,0,0.7);border-radius:10px;font-size:12px;color:#fff;height:22px;line-height:22px;}\",'.video-tip.jsx-4146117004::before{content:\"\";position:absolute;top:7px;left:8px;border-style:solid;border-width:5px;border-color:transparent transparent transparent #fff;}',\".mode2-right.jsx-4146117004{overflow:hidden;height:100%;position:relative;}\",\".mode2-news.jsx-4146117004{display:inline-block;width:100%;vertical-align:middle;position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);}\",\".news-footer-right.jsx-4146117004{float:right;}\",\".dislike.jsx-4146117004{height:20px;width:20px;}\",\".close.jsx-4146117004{font-size:12px;color:#ddd;}\"]})]})}}},[[\"CNuy\",0,1,2,3]]]);","map":{"version":3,"sources":["static/chunks/pages/components/Main-089f508109c6f911ded0.js"],"names":["_N_E","window","push","CNuy","module","exports","__webpack_require__","__NEXT_P","DhfC","__webpack_exports__","r","d","Main","jsx_runtime","_arrayLikeToArray","arr","len","length","i","arr2","Array","_toConsumableArray","isArray","_arrayWithoutHoles","iter","Symbol","iterator","Object","from","_iterableToArray","o","minLen","n","prototype","toString","call","slice","constructor","name","test","_unsupportedIterableToArray","TypeError","_nonIterableSpread","regenerator","regenerator_default","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","style","style_default","react","_useState","list","setList","DateDiff","startTime","timeDiff","Date","valueOf","Math","floor","fetch","_ref","a","mark","_callee","res","resp","wrap","_context","prev","next","json","sent","data","stop","_x","_useState2","scrollPosition","setScrollPosition","handler","scrollH","document","documentElement","scrollHeight","clientH","clientHeight","scrollT","scrollTop","addEventListener","passive","removeEventListener","_ref2","_callee2","_context2","l","concat","_x2","children","className","map","img_url","href","source_url","title","tag","url","src","source_img","source","comments","time","id"],"mappings":"AAAAA,MACCC,OAAyB,iBAAIA,OAAyB,kBAAK,IAAIC,KAAK,CAAC,CAAC,IAAI,CAErEC,KACA,SAAUC,EAAQC,EAASC,IAG5BL,OAAOM,SAAWN,OAAOM,UAAY,IAAIL,KAAK,CAC7C,mBACA,WACE,OAAOI,EAAoB,YAO7BE,KACA,SAAUJ,EAAQK,EAAqBH,GAE7C,aAEAA,EAAoBI,EAAED,GAGtBH,EAAoBK,EAAEF,EAAqB,WAAW,WAAa,OAAqBG,KAGxF,IAAIC,EAAcP,EAAoB,QAGtC,SAASQ,EAAkBC,EAAKC,IACnB,MAAPA,GAAeA,EAAMD,EAAIE,UAAQD,EAAMD,EAAIE,QAE/C,IAAK,IAAIC,EAAI,EAAGC,EAAO,IAAIC,MAAMJ,GAAME,EAAIF,EAAKE,IAC9CC,EAAKD,GAAKH,EAAIG,GAGhB,OAAOC,EA8BT,SAASE,EAAmBN,GAC1B,OA3BF,SAA4BA,GAC1B,GAAIK,MAAME,QAAQP,GAAM,OAAOD,EAAkBC,GA0B1CQ,CAAmBR,IAvB5B,SAA0BS,GACxB,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOJ,MAAMQ,KAAKJ,GAsBtDK,CAAiBd,IAlBrD,SAAqCe,EAAGC,GACtC,GAAKD,EAAL,CACA,GAAiB,kBAANA,EAAgB,OAAOhB,EAAkBgB,EAAGC,GACvD,IAAIC,EAAIL,OAAOM,UAAUC,SAASC,KAAKL,GAAGM,MAAM,GAAI,GAEpD,MADU,WAANJ,GAAkBF,EAAEO,cAAaL,EAAIF,EAAEO,YAAYC,MAC7C,QAANN,GAAqB,QAANA,EAAoBZ,MAAMQ,KAAKE,GACxC,cAANE,GAAqB,2CAA2CO,KAAKP,GAAWlB,EAAkBgB,EAAGC,QAAzG,GAY2DS,CAA4BzB,IATzF,WACE,MAAM,IAAI0B,UAAU,wIAQ2EC,GAGjG,IAAIC,EAAcrC,EAAoB,QAClCsC,EAAmCtC,EAAoB0B,EAAEW,GAG7D,SAASE,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBE,EAAQD,EAAKC,MACjB,MAAOC,GAEP,YADAP,EAAOO,GAILF,EAAKG,KACPT,EAAQO,GAERG,QAAQV,QAAQO,GAAOI,KAAKT,EAAOC,GAIvC,SAASS,EAAkBC,GACzB,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIP,SAAQ,SAAUV,EAASC,GACpC,IAAIF,EAAMc,EAAGK,MAAMJ,EAAME,GAEzB,SAASd,EAAMK,GACbT,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQI,GAGlE,SAASJ,EAAOgB,GACdrB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASgB,GAGnEjB,OAAMkB,OAKZ,IAAIC,EAAQ9D,EAAoB,QAC5B+D,EAA6B/D,EAAoB0B,EAAEoC,GAGnDE,EAAQhE,EAAoB,QAWhC,SAASM,IACP,IAAI2D,EAAY5C,OAAO2C,EAAgB,SAAvB3C,CAA0B,IACtC6C,EAAOD,EAAU,GACjBE,EAAUF,EAAU,GA+BxB,SAASG,EAASC,GAChB,IACIC,GADO,IAAIC,MAAOC,UAAY,IACZH,EAEtB,OAAII,KAAKC,MAAMJ,EAAW,MAAQ,MAAQ,EACjCG,KAAKC,MAAMJ,EAAW,MAAQ,KAAO,eACnCG,KAAKC,MAAMJ,EAAW,MAAQ,KAAO,EACvCG,KAAKC,MAAMJ,EAAW,MAAQ,IAAM,eAClCG,KAAKC,MAAMJ,EAAW,QAAU,EAClCG,KAAKC,MAAMJ,EAAW,OAAS,eAC7BG,KAAKC,MAAMJ,EAAW,OAAS,EACjCG,KAAKC,MAAMJ,EAAW,MAAQ,qBAC5BG,KAAKC,MAAMJ,EAAW,KAAO,EAC/BG,KAAKC,MAAMJ,EAAW,IAAM,qBAE5B,eA5CXjD,OAAO2C,EAAiB,UAAxB3C,EAA2B,WACzBsD,MAAM,aAAavB,KAAmB,WACpC,IAAIwB,EAAOvB,EAAgCf,EAAoBuC,EAAEC,MAAK,SAASC,EAAQC,GACrF,IAAIC,EACJ,OAAO3C,EAAoBuC,EAAEK,MAAK,SAAkBC,GAClD,OACE,OAAQA,EAASC,KAAOD,EAASE,MAC/B,KAAK,EAEH,OADAF,EAASE,KAAO,EACTL,EAAIM,OAEb,KAAK,EACHL,EAAOE,EAASI,KAChBpB,EAAQc,EAAKO,MAEf,KAAK,EACL,IAAK,MACH,OAAOL,EAASM,UAGrBV,OAGL,OAAO,SAAUW,GACf,OAAOd,EAAKjB,MAAMH,KAAME,YAvBU,MA0BrC,IAuBH,IAAIiC,EAAatE,OAAO2C,EAAgB,SAAvB3C,CAA0B,IACvCuE,EAAiBD,EAAW,GAC5BE,EAAoBF,EAAW,GAmDnC,OAjDAtE,OAAO2C,EAAiB,UAAxB3C,EAA2B,WACzB,IAAIyE,EAAU,WACZD,EAAkB,CAChBE,QAASC,SAASC,gBAAgBC,aAClCC,QAASH,SAASC,gBAAgBG,aAClCC,QAASL,SAASC,gBAAgBK,aAOtC,OAHA3G,OAAO4G,iBAAiB,SAAUT,EAAS,CACzCU,SAAS,IAEJ,WACL7G,OAAO8G,oBAAoB,SAAUX,MAEtC,IAECF,EAAeG,QAAUH,EAAeO,SAAWP,EAAeS,QAAU,KAC9E1B,MAAM,aAAavB,KAAmB,WACpC,IAAIsD,EAAQrD,EAAgCf,EAAoBuC,EAAEC,MAAK,SAAS6B,EAAS3B,GACvF,IAAIC,EACJ,OAAO3C,EAAoBuC,EAAEK,MAAK,SAAmB0B,GACnD,OACE,OAAQA,EAAUxB,KAAOwB,EAAUvB,MACjC,KAAK,EAEH,OADAuB,EAAUvB,KAAO,EACVL,EAAIM,OAEb,KAAK,EACHL,EAAO2B,EAAUrB,KACjBpB,GAAQ,SAAU0C,GAChB,MAAO,GAAGC,OAAO/F,EAAmB8F,GAAI9F,EAAmBkE,EAAKO,UAGpE,KAAK,EACL,IAAK,MACH,OAAOoB,EAAUnB,UAGtBkB,OAGL,OAAO,SAAUI,GACf,OAAOL,EAAM/C,MAAMH,KAAME,YAzBS,IA+BpBrC,OAAOd,EAAkB,KAAzBc,CAA4Bd,EAAsB,SAAG,CACvEyG,SAAU,CAAc3F,OAAOd,EAAkB,KAAzBc,CAA4B,MAAO,CACzD4F,UAAW,gCACXD,SAAU,CAAc3F,OAAOd,EAAiB,IAAxBc,CAA2B,MAAO,CACxD4F,UAAW,uBACI5F,OAAOd,EAAiB,IAAxBc,CAA2B,MAAO,CACjD4F,UAAW,2BACXD,SAAU9C,EAAKgD,KAAI,SAAUtG,GAC3B,MAAkB,SAAdA,EAAEuG,QACgB9F,OAAOd,EAAkB,KAAzBc,CAA4B,MAAO,CACrD4F,UAAW,uBACXD,SAAU,CAAc3F,OAAOd,EAAiB,IAAxBc,CAA2B,MAAO,CACxD4F,UAAW,4BACXD,SAAuB3F,OAAOd,EAAiB,IAAxBc,CAA2B,IAAK,CACrD+F,KAAMxG,EAAEyG,WACRJ,UAAW,2BACXD,SAAUpG,EAAE0G,UAECjG,OAAOd,EAAkB,KAAzBc,CAA4B,MAAO,CAClD4F,UAAW,6BACXD,SAAU,CAAc3F,OAAOd,EAAkB,KAAzBc,CAA4B,MAAO,CACzD4F,UAAW,kCACXD,SAAU,CAAc3F,OAAOd,EAAiB,IAAxBc,CAA2B,IAAK,CACtD+F,KAAM,KACNH,UAAW,sCACXD,SAAUpG,EAAE2G,MACGlG,OAAOd,EAAiB,IAAxBc,CAA2B,IAAK,CAC/C+F,KAAMxG,EAAE4G,IACRP,UAAW,gCACXD,SAAuB3F,OAAOd,EAAiB,IAAxBc,CAA2B,MAAO,CACvDoG,IAAK7G,EAAE8G,WACPT,UAAW,qBAEE5F,OAAOd,EAAkB,KAAzBc,CAA4B,IAAK,CAChD+F,KAAMxG,EAAE4G,IACRP,UAAW,4BACXD,SAAU,CAAC,OAAQpG,EAAE+G,OAAQ,cACdtG,OAAOd,EAAkB,KAAzBc,CAA4B,IAAK,CAChD+F,KAAM,KACNH,UAAW,4BACXD,SAAU,CAAC,OAAQpG,EAAEgH,SAAU,0BAChBvG,OAAOd,EAAkB,KAAzBc,CAA4B,OAAQ,CACnD4F,UAAW,2BACXD,SAAU,CAAC,OAAQ5C,EAASxD,EAAEiH,YAEjBxG,OAAOd,EAAiB,IAAxBc,CAA2B,MAAO,CACjD4F,UAAW,mCACXD,SAAuB3F,OAAOd,EAAiB,IAAxBc,CAA2B,MAAO,CACvD4F,UAAW,yBACXD,SAAuB3F,OAAOd,EAAiB,IAAxBc,CAA2B,OAAQ,CACxD4F,UAAW,uBACXD,SAAU,gBAOA3F,OAAOd,EAAkB,KAAzBc,CAA4B,MAAO,CACrD4F,UAAW,uBACXD,SAAU,CAAc3F,OAAOd,EAAiB,IAAxBc,CAA2B,MAAO,CACxD4F,UAAW,4BACXD,SAAuB3F,OAAOd,EAAiB,IAAxBc,CAA2B,IAAK,CACrD+F,KAAMxG,EAAEyG,WACRJ,UAAW,2BACXD,SAAuB3F,OAAOd,EAAiB,IAAxBc,CAA2B,MAAO,CACvDoG,IAAK7G,EAAEuG,QACPF,UAAW,uBAGA5F,OAAOd,EAAiB,IAAxBc,CAA2B,MAAO,CACjD4F,UAAW,6BACXD,SAAuB3F,OAAOd,EAAkB,KAAzBc,CAA4B,MAAO,CACxD4F,UAAW,4BACXD,SAAU,CAAc3F,OAAOd,EAAiB,IAAxBc,CAA2B,MAAO,CACxD4F,UAAW,4BACXD,SAAuB3F,OAAOd,EAAiB,IAAxBc,CAA2B,IAAK,CACrD+F,KAAMxG,EAAEyG,WACRJ,UAAW,2BACXD,SAAUpG,EAAE0G,UAECjG,OAAOd,EAAkB,KAAzBc,CAA4B,MAAO,CAClD4F,UAAW,6BACXD,SAAU,CAAc3F,OAAOd,EAAkB,KAAzBc,CAA4B,MAAO,CACzD4F,UAAW,kCACXD,SAAU,CAAc3F,OAAOd,EAAiB,IAAxBc,CAA2B,IAAK,CACtD+F,KAAM,KACNH,UAAW,sCACXD,SAAUpG,EAAE2G,MACGlG,OAAOd,EAAiB,IAAxBc,CAA2B,IAAK,CAC/C+F,KAAMxG,EAAE4G,IACRP,UAAW,gCACXD,SAAuB3F,OAAOd,EAAiB,IAAxBc,CAA2B,MAAO,CACvDoG,IAAK7G,EAAE8G,WACPT,UAAW,qBAEE5F,OAAOd,EAAkB,KAAzBc,CAA4B,IAAK,CAChD+F,KAAMxG,EAAE4G,IACRP,UAAW,4BACXD,SAAU,CAAC,OAAQpG,EAAE+G,OAAQ,cACdtG,OAAOd,EAAkB,KAAzBc,CAA4B,IAAK,CAChD+F,KAAM,KACNH,UAAW,4BACXD,SAAU,CAAC,OAAQpG,EAAEgH,SAAU,0BAChBvG,OAAOd,EAAkB,KAAzBc,CAA4B,OAAQ,CACnD4F,UAAW,2BACXD,SAAU,CAAC,OAAQ5C,EAASxD,EAAEiH,YAEjBxG,OAAOd,EAAiB,IAAxBc,CAA2B,MAAO,CACjD4F,UAAW,mCACXD,SAAuB3F,OAAOd,EAAiB,IAAxBc,CAA2B,MAAO,CACvD4F,UAAW,yBACXD,SAAuB3F,OAAOd,EAAiB,IAAxBc,CAA2B,OAAQ,CACxD4F,UAAW,uBACXD,SAAU,6BAWf3F,OAAOd,EAAiB,IAAxBc,CAA2B0C,EAAcc,EAAG,CAC3DiD,GAAI,aACJd,SAAU,CAAC,kFAAmF,yEAA0E,4NAA6N,yCAA0C,uEAAwE,6GAA8G,8HAA+H,qHAAsH,qEAAsE,6GAA8G,+FAAgG,yDAA0D,yCAA0C,sFAAuF,qGAAsG,qKAAsK,0HAA2H,qMAAsM,8KAAiL,8EAA+E,4MAA6M,kDAAmD,mDAAoD,6DAO96E,CAAC,CAAC,OAAO,EAAE,EAAE,EAAE"},"name":"static/chunks/pages/components/Main-089f508109c6f911ded0.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[11],{\n\n/***/ \"CNuy\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/components/Main\",\n      function () {\n        return __webpack_require__(\"DhfC\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"DhfC\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"default\", function() { return /* binding */ Main; });\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/iterableToArray.js\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\n\n\n\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"o0o1\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n// EXTERNAL MODULE: ./node_modules/styled-jsx/style.js\nvar style = __webpack_require__(\"MX0m\");\nvar style_default = /*#__PURE__*/__webpack_require__.n(style);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\n\n// CONCATENATED MODULE: ./pages/components/Main/index.js\n\n\n\n\n\n\n\n\nfunction Main() {\n  var _useState = Object(react[\"useState\"])([]),\n      list = _useState[0],\n      setList = _useState[1];\n\n  Object(react[\"useEffect\"])(function () {\n    fetch(\"/api/news\").then( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regenerator_default.a.mark(function _callee(res) {\n        var resp;\n        return regenerator_default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return res.json();\n\n              case 2:\n                resp = _context.sent;\n                setList(resp.data);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }, []);\n\n  function DateDiff(startTime) {\n    var date = new Date().valueOf() / 1000;\n    var timeDiff = date - startTime;\n\n    if (Math.floor(timeDiff / 86400 / 365) >= 1) {\n      return Math.floor(timeDiff / 86400 / 365) + \"年前\";\n    } else if (Math.floor(timeDiff / 86400 / 30) >= 1) {\n      return Math.floor(timeDiff / 86400 / 30) + \"月前\";\n    } else if (Math.floor(timeDiff / 86400) >= 1) {\n      return Math.floor(timeDiff / 86400) + \"天前\";\n    } else if (Math.floor(timeDiff / 3600) >= 1) {\n      return Math.floor(timeDiff / 3600) + \"小时前\";\n    } else if (Math.floor(timeDiff / 60) >= 1) {\n      return Math.floor(timeDiff / 60) + \"分钟前\";\n    } else {\n      return \"刚刚\";\n    }\n  } // const mainRef=useRef();\n  // console.log(mainRef.current)\n\n\n  var _useState2 = Object(react[\"useState\"])({}),\n      scrollPosition = _useState2[0],\n      setScrollPosition = _useState2[1];\n\n  Object(react[\"useEffect\"])(function () {\n    var handler = function handler() {\n      setScrollPosition({\n        scrollH: document.documentElement.scrollHeight,\n        clientH: document.documentElement.clientHeight,\n        scrollT: document.documentElement.scrollTop\n      });\n    };\n\n    window.addEventListener('scroll', handler, {\n      passive: true\n    });\n    return function () {\n      window.removeEventListener('scroll', handler);\n    };\n  }, []); // console.log(scrollPosition.scrollH-scrollPosition.clientH-scrollPosition.scrollT)\n\n  if (scrollPosition.scrollH - scrollPosition.clientH <= scrollPosition.scrollT + 400) {\n    fetch(\"/api/news\").then( /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/regenerator_default.a.mark(function _callee2(res) {\n        var resp;\n        return regenerator_default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return res.json();\n\n              case 2:\n                resp = _context2.sent;\n                setList(function (l) {\n                  return [].concat(_toConsumableArray(l), _toConsumableArray(resp.data));\n                });\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  } // console.log(list)\n\n\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"], {\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n      className: \"jsx-4146117004\" + \" \" + \"center-content\",\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n        className: \"jsx-4146117004\" + \" \" + \"msg\"\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n        className: \"jsx-4146117004\" + \" \" + \"news-list\",\n        children: list.map(function (i) {\n          if (i.img_url === 'null') {\n            return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n              className: \"jsx-4146117004\" + \" \" + \"mode1\",\n              children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n                className: \"jsx-4146117004\" + \" \" + \"news-title\",\n                children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\", {\n                  href: i.source_url,\n                  className: \"jsx-4146117004\" + \" \" + \"news-link\",\n                  children: i.title\n                })\n              }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n                className: \"jsx-4146117004\" + \" \" + \"news-footer\",\n                children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n                  className: \"jsx-4146117004\" + \" \" + \"news-footer-left\",\n                  children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\", {\n                    href: \"#!\",\n                    className: \"jsx-4146117004\" + \" \" + \"news-tag tag-politic\",\n                    children: i.tag\n                  }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\", {\n                    href: i.url,\n                    className: \"jsx-4146117004\" + \" \" + \"news-media-img\",\n                    children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\", {\n                      src: i.source_img,\n                      className: \"jsx-4146117004\"\n                    })\n                  }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"a\", {\n                    href: i.url,\n                    className: \"jsx-4146117004\" + \" \" + \"news-about\",\n                    children: [\"\\xA0\", i.source, \"\\xA0\\xB7\"]\n                  }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"a\", {\n                    href: \"#!\",\n                    className: \"jsx-4146117004\" + \" \" + \"news-about\",\n                    children: [\"\\xA0\", i.comments, \"\\u8BC4\\u8BBA\\xA0\\xB7\"]\n                  }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\", {\n                    className: \"jsx-4146117004\" + \" \" + \"news-time\",\n                    children: [\"\\xA0\", DateDiff(i.time)]\n                  })]\n                }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n                  className: \"jsx-4146117004\" + \" \" + \"news-footer-right\",\n                  children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n                    className: \"jsx-4146117004\" + \" \" + \"dislike\",\n                    children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\", {\n                      className: \"jsx-4146117004\" + \" \" + \"close\",\n                      children: \"X\"\n                    })\n                  })\n                })]\n              })]\n            });\n          } else {\n            return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n              className: \"jsx-4146117004\" + \" \" + \"mode2\",\n              children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n                className: \"jsx-4146117004\" + \" \" + \"mode2-left\",\n                children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\", {\n                  href: i.source_url,\n                  className: \"jsx-4146117004\" + \" \" + \"mode2-img\",\n                  children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\", {\n                    src: i.img_url,\n                    className: \"jsx-4146117004\"\n                  })\n                })\n              }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n                className: \"jsx-4146117004\" + \" \" + \"mode2-right\",\n                children: /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n                  className: \"jsx-4146117004\" + \" \" + \"mode2-news\",\n                  children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n                    className: \"jsx-4146117004\" + \" \" + \"news-title\",\n                    children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\", {\n                      href: i.source_url,\n                      className: \"jsx-4146117004\" + \" \" + \"news-link\",\n                      children: i.title\n                    })\n                  }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n                    className: \"jsx-4146117004\" + \" \" + \"news-footer\",\n                    children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n                      className: \"jsx-4146117004\" + \" \" + \"news-footer-left\",\n                      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\", {\n                        href: \"#!\",\n                        className: \"jsx-4146117004\" + \" \" + \"news-tag tag-politic\",\n                        children: i.tag\n                      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\", {\n                        href: i.url,\n                        className: \"jsx-4146117004\" + \" \" + \"news-media-img\",\n                        children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\", {\n                          src: i.source_img,\n                          className: \"jsx-4146117004\"\n                        })\n                      }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"a\", {\n                        href: i.url,\n                        className: \"jsx-4146117004\" + \" \" + \"news-about\",\n                        children: [\"\\xA0\", i.source, \"\\xA0\\xB7\"]\n                      }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"a\", {\n                        href: \"#!\",\n                        className: \"jsx-4146117004\" + \" \" + \"news-about\",\n                        children: [\"\\xA0\", i.comments, \"\\u8BC4\\u8BBA\\xA0\\xB7\"]\n                      }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\", {\n                        className: \"jsx-4146117004\" + \" \" + \"news-time\",\n                        children: [\"\\xA0\", DateDiff(i.time)]\n                      })]\n                    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n                      className: \"jsx-4146117004\" + \" \" + \"news-footer-right\",\n                      children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n                        className: \"jsx-4146117004\" + \" \" + \"dislike\",\n                        children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\", {\n                          className: \"jsx-4146117004\" + \" \" + \"close\",\n                          children: \"X\"\n                        })\n                      })\n                    })]\n                  })]\n                })\n              })]\n            });\n          }\n        })\n      })]\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(style_default.a, {\n      id: \"4146117004\",\n      children: [\".center-content.jsx-4146117004{width:660px;display:inline-block;margin:0 auto;}\", \".mode1.jsx-4146117004{padding:10px 0;border-bottom:1px solid #e8e8e8;}\", \".news-title.jsx-4146117004{font-size:20px;margin-bottom:4px;line-height:1.3;font-weight:700;max-height:52px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;}\", \".news-link.jsx-4146117004{color:#222;}\", \".news-footer.jsx-4146117004{color:#999;margin-top:10px;height:20px;}\", \".news-footer-left.jsx-4146117004{display:inline-block;vertical-align:middle;line-height:20px;font-size:0;}\", \".news-footer-left.jsx-4146117004>*.jsx-4146117004{display:inline-block;vertical-align:middle;line-height:1;font-size:14px;}\", \".news-tag.jsx-4146117004{font-size:12px;margin-right:10px;padding:1px 2px;border:1px solid #87a5b5;color:#87a5b5;}\", \".tag-video.jsx-4146117004{border:1px solid #ff7920;color:#ff7920;}\", \".news-media-img.jsx-4146117004{width:18px;height:18px;margin-right:2px;border-radius:50%;overflow:hidden;}\", \".news-media-img.jsx-4146117004 img.jsx-4146117004{width:18px;height:18px;border-radius:50%;}\", \".news-about.jsx-4146117004{font-size:14px;color:#777;}\", \".news-time.jsx-4146117004{color:#777;}\", \".mode2.jsx-4146117004{height:102px;padding:10px 0;border-bottom:1px solid #e8e8e8;}\", \".mode2-left.jsx-4146117004{width:158px;height:102px;margin-right:16px;overflow:hidden;float:left;}\", \".mode2-img.jsx-4146117004{display:inline-block;position:relative;-webkit-transform-style:preserve-3d;-ms-transform-style:preserve-3d;transform-style:preserve-3d;}\", \".mode2-img.jsx-4146117004>img.jsx-4146117004{width:158px;height:102px;-webkit-transition:all 0.5s;transition:all 0.5s;}\", \".video-tip.jsx-4146117004{position:absolute;right:8px;bottom:8px;padding:0 6px 0 18px;background-color:rgba(0,0,0,0.7);border-radius:10px;font-size:12px;color:#fff;height:22px;line-height:22px;}\", \".video-tip.jsx-4146117004::before{content:\\\"\\\";position:absolute;top:7px;left:8px;border-style:solid;border-width:5px;border-color:transparent transparent transparent #fff;}\", \".mode2-right.jsx-4146117004{overflow:hidden;height:100%;position:relative;}\", \".mode2-news.jsx-4146117004{display:inline-block;width:100%;vertical-align:middle;position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);}\", \".news-footer-right.jsx-4146117004{float:right;}\", \".dislike.jsx-4146117004{height:20px;width:20px;}\", \".close.jsx-4146117004{font-size:12px;color:#ddd;}\"]\n    })]\n  });\n}\n\n/***/ })\n\n},[[\"CNuy\",0,1,2,3]]]);","inputSourceMap":{"version":3,"sources":["D:\\vscode\\projects\\homework\\lesson-5-homework\\toutiao\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fcomponents%2FMain&absolutePagePath=private-next-pages%2Fcomponents%2FMain%2Findex.js!","D:\\vscode\\projects\\homework\\lesson-5-homework\\toutiao\\node_modules\\@babel\\runtime\\helpers\\esm\\arrayLikeToArray.js","D:\\vscode\\projects\\homework\\lesson-5-homework\\toutiao\\node_modules\\@babel\\runtime\\helpers\\esm\\arrayWithoutHoles.js","D:\\vscode\\projects\\homework\\lesson-5-homework\\toutiao\\node_modules\\@babel\\runtime\\helpers\\esm\\iterableToArray.js","D:\\vscode\\projects\\homework\\lesson-5-homework\\toutiao\\node_modules\\@babel\\runtime\\helpers\\esm\\unsupportedIterableToArray.js","D:\\vscode\\projects\\homework\\lesson-5-homework\\toutiao\\node_modules\\@babel\\runtime\\helpers\\esm\\nonIterableSpread.js","D:\\vscode\\projects\\homework\\lesson-5-homework\\toutiao\\node_modules\\@babel\\runtime\\helpers\\esm\\toConsumableArray.js","D:\\vscode\\projects\\homework\\lesson-5-homework\\toutiao\\node_modules\\@babel\\runtime\\helpers\\esm\\asyncToGenerator.js","D:\\vscode\\projects\\homework\\lesson-5-homework\\toutiao\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!D:\\vscode\\projects\\homework\\lesson-5-homework\\toutiao\\pages\\components\\Main\\index.js"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAA6C;AACpE;AACA;;;;;;;;;;;;;;;;;;;ACNe;AACf;;AAEA,wCAAwC,SAAS;AACjD;AACA;;AAEA;AACA,C;;ACR2E;AAC5D;AACf,iCAAiC,iBAAgB;AACjD,C;;ACHe;AACf;AACA,C;;ACF2E;AAC5D;AACf;AACA,oCAAoC,iBAAgB;AACpD;AACA;AACA;AACA,sFAAsF,iBAAgB;AACtG,C;;ACRe;AACf;AACA,C;;ACF6E;AACJ;AACsB;AAClB;AAC9D;AACf,SAAS,kBAAiB,SAAS,gBAAe,SAAS,2BAA0B,SAAS,kBAAiB;AAC/G,C;;;;;;ACNA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,C;;;;;;;;;AClC0D;AACR;AACF;AACiG;AACjB;AACe;AACtG;AACU;AACpC;AACf,kBAAkB,yBAAQ;AAC1B;AACA;;AAEA,EAAE,0BAAS;AACX;AACA,iBAAiB,iBAAiB,eAAe,qBAAmB;AACpE;AACA,eAAe,qBAAmB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;;;AAGA,mBAAmB,yBAAQ,GAAG;AAC9B;AACA;;AAEA,EAAE,0BAAS;AACX;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG,MAAM;;AAET;AACA;AACA,kBAAkB,iBAAiB,eAAe,qBAAmB;AACrE;AACA,eAAe,qBAAmB;AAClC;AACA;AACA;AACA;AACA;;A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","file":"x","sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/components/Main\",\n      function () {\n        return require(\"private-next-pages/components/Main/index.js\");\n      }\n    ]);\n  ","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _toConsumableArray from \"D:/vscode/projects/homework/lesson-5-homework/toutiao/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"D:/vscode/projects/homework/lesson-5-homework/toutiao/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/vscode/projects/homework/lesson-5-homework/toutiao/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React, { useEffect, useState } from 'react';\nexport default function Main() {\n  var _useState = useState([]),\n      list = _useState[0],\n      setList = _useState[1];\n\n  useEffect(function () {\n    fetch(\"/api/news\").then( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(res) {\n        var resp;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return res.json();\n\n              case 2:\n                resp = _context.sent;\n                setList(resp.data);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }, []);\n\n  function DateDiff(startTime) {\n    var date = new Date().valueOf() / 1000;\n    var timeDiff = date - startTime;\n\n    if (Math.floor(timeDiff / 86400 / 365) >= 1) {\n      return Math.floor(timeDiff / 86400 / 365) + \"年前\";\n    } else if (Math.floor(timeDiff / 86400 / 30) >= 1) {\n      return Math.floor(timeDiff / 86400 / 30) + \"月前\";\n    } else if (Math.floor(timeDiff / 86400) >= 1) {\n      return Math.floor(timeDiff / 86400) + \"天前\";\n    } else if (Math.floor(timeDiff / 3600) >= 1) {\n      return Math.floor(timeDiff / 3600) + \"小时前\";\n    } else if (Math.floor(timeDiff / 60) >= 1) {\n      return Math.floor(timeDiff / 60) + \"分钟前\";\n    } else {\n      return \"刚刚\";\n    }\n  } // const mainRef=useRef();\n  // console.log(mainRef.current)\n\n\n  var _useState2 = useState({}),\n      scrollPosition = _useState2[0],\n      setScrollPosition = _useState2[1];\n\n  useEffect(function () {\n    var handler = function handler() {\n      setScrollPosition({\n        scrollH: document.documentElement.scrollHeight,\n        clientH: document.documentElement.clientHeight,\n        scrollT: document.documentElement.scrollTop\n      });\n    };\n\n    window.addEventListener('scroll', handler, {\n      passive: true\n    });\n    return function () {\n      window.removeEventListener('scroll', handler);\n    };\n  }, []); // console.log(scrollPosition.scrollH-scrollPosition.clientH-scrollPosition.scrollT)\n\n  if (scrollPosition.scrollH - scrollPosition.clientH <= scrollPosition.scrollT + 400) {\n    fetch(\"/api/news\").then( /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(res) {\n        var resp;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return res.json();\n\n              case 2:\n                resp = _context2.sent;\n                setList(function (l) {\n                  return [].concat(_toConsumableArray(l), _toConsumableArray(resp.data));\n                });\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  } // console.log(list)\n\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"jsx-4146117004\" + \" \" + \"center-content\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"jsx-4146117004\" + \" \" + \"msg\"\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"jsx-4146117004\" + \" \" + \"news-list\",\n        children: list.map(function (i) {\n          if (i.img_url === 'null') {\n            return /*#__PURE__*/_jsxs(\"div\", {\n              className: \"jsx-4146117004\" + \" \" + \"mode1\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"jsx-4146117004\" + \" \" + \"news-title\",\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  href: i.source_url,\n                  className: \"jsx-4146117004\" + \" \" + \"news-link\",\n                  children: i.title\n                })\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"jsx-4146117004\" + \" \" + \"news-footer\",\n                children: [/*#__PURE__*/_jsxs(\"div\", {\n                  className: \"jsx-4146117004\" + \" \" + \"news-footer-left\",\n                  children: [/*#__PURE__*/_jsx(\"a\", {\n                    href: \"#!\",\n                    className: \"jsx-4146117004\" + \" \" + \"news-tag tag-politic\",\n                    children: i.tag\n                  }), /*#__PURE__*/_jsx(\"a\", {\n                    href: i.url,\n                    className: \"jsx-4146117004\" + \" \" + \"news-media-img\",\n                    children: /*#__PURE__*/_jsx(\"img\", {\n                      src: i.source_img,\n                      className: \"jsx-4146117004\"\n                    })\n                  }), /*#__PURE__*/_jsxs(\"a\", {\n                    href: i.url,\n                    className: \"jsx-4146117004\" + \" \" + \"news-about\",\n                    children: [\"\\xA0\", i.source, \"\\xA0\\xB7\"]\n                  }), /*#__PURE__*/_jsxs(\"a\", {\n                    href: \"#!\",\n                    className: \"jsx-4146117004\" + \" \" + \"news-about\",\n                    children: [\"\\xA0\", i.comments, \"\\u8BC4\\u8BBA\\xA0\\xB7\"]\n                  }), /*#__PURE__*/_jsxs(\"span\", {\n                    className: \"jsx-4146117004\" + \" \" + \"news-time\",\n                    children: [\"\\xA0\", DateDiff(i.time)]\n                  })]\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"jsx-4146117004\" + \" \" + \"news-footer-right\",\n                  children: /*#__PURE__*/_jsx(\"div\", {\n                    className: \"jsx-4146117004\" + \" \" + \"dislike\",\n                    children: /*#__PURE__*/_jsx(\"span\", {\n                      className: \"jsx-4146117004\" + \" \" + \"close\",\n                      children: \"X\"\n                    })\n                  })\n                })]\n              })]\n            });\n          } else {\n            return /*#__PURE__*/_jsxs(\"div\", {\n              className: \"jsx-4146117004\" + \" \" + \"mode2\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"jsx-4146117004\" + \" \" + \"mode2-left\",\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  href: i.source_url,\n                  className: \"jsx-4146117004\" + \" \" + \"mode2-img\",\n                  children: /*#__PURE__*/_jsx(\"img\", {\n                    src: i.img_url,\n                    className: \"jsx-4146117004\"\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"jsx-4146117004\" + \" \" + \"mode2-right\",\n                children: /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"jsx-4146117004\" + \" \" + \"mode2-news\",\n                  children: [/*#__PURE__*/_jsx(\"div\", {\n                    className: \"jsx-4146117004\" + \" \" + \"news-title\",\n                    children: /*#__PURE__*/_jsx(\"a\", {\n                      href: i.source_url,\n                      className: \"jsx-4146117004\" + \" \" + \"news-link\",\n                      children: i.title\n                    })\n                  }), /*#__PURE__*/_jsxs(\"div\", {\n                    className: \"jsx-4146117004\" + \" \" + \"news-footer\",\n                    children: [/*#__PURE__*/_jsxs(\"div\", {\n                      className: \"jsx-4146117004\" + \" \" + \"news-footer-left\",\n                      children: [/*#__PURE__*/_jsx(\"a\", {\n                        href: \"#!\",\n                        className: \"jsx-4146117004\" + \" \" + \"news-tag tag-politic\",\n                        children: i.tag\n                      }), /*#__PURE__*/_jsx(\"a\", {\n                        href: i.url,\n                        className: \"jsx-4146117004\" + \" \" + \"news-media-img\",\n                        children: /*#__PURE__*/_jsx(\"img\", {\n                          src: i.source_img,\n                          className: \"jsx-4146117004\"\n                        })\n                      }), /*#__PURE__*/_jsxs(\"a\", {\n                        href: i.url,\n                        className: \"jsx-4146117004\" + \" \" + \"news-about\",\n                        children: [\"\\xA0\", i.source, \"\\xA0\\xB7\"]\n                      }), /*#__PURE__*/_jsxs(\"a\", {\n                        href: \"#!\",\n                        className: \"jsx-4146117004\" + \" \" + \"news-about\",\n                        children: [\"\\xA0\", i.comments, \"\\u8BC4\\u8BBA\\xA0\\xB7\"]\n                      }), /*#__PURE__*/_jsxs(\"span\", {\n                        className: \"jsx-4146117004\" + \" \" + \"news-time\",\n                        children: [\"\\xA0\", DateDiff(i.time)]\n                      })]\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"jsx-4146117004\" + \" \" + \"news-footer-right\",\n                      children: /*#__PURE__*/_jsx(\"div\", {\n                        className: \"jsx-4146117004\" + \" \" + \"dislike\",\n                        children: /*#__PURE__*/_jsx(\"span\", {\n                          className: \"jsx-4146117004\" + \" \" + \"close\",\n                          children: \"X\"\n                        })\n                      })\n                    })]\n                  })]\n                })\n              })]\n            });\n          }\n        })\n      })]\n    }), /*#__PURE__*/_jsx(_JSXStyle, {\n      id: \"4146117004\",\n      children: [\".center-content.jsx-4146117004{width:660px;display:inline-block;margin:0 auto;}\", \".mode1.jsx-4146117004{padding:10px 0;border-bottom:1px solid #e8e8e8;}\", \".news-title.jsx-4146117004{font-size:20px;margin-bottom:4px;line-height:1.3;font-weight:700;max-height:52px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;}\", \".news-link.jsx-4146117004{color:#222;}\", \".news-footer.jsx-4146117004{color:#999;margin-top:10px;height:20px;}\", \".news-footer-left.jsx-4146117004{display:inline-block;vertical-align:middle;line-height:20px;font-size:0;}\", \".news-footer-left.jsx-4146117004>*.jsx-4146117004{display:inline-block;vertical-align:middle;line-height:1;font-size:14px;}\", \".news-tag.jsx-4146117004{font-size:12px;margin-right:10px;padding:1px 2px;border:1px solid #87a5b5;color:#87a5b5;}\", \".tag-video.jsx-4146117004{border:1px solid #ff7920;color:#ff7920;}\", \".news-media-img.jsx-4146117004{width:18px;height:18px;margin-right:2px;border-radius:50%;overflow:hidden;}\", \".news-media-img.jsx-4146117004 img.jsx-4146117004{width:18px;height:18px;border-radius:50%;}\", \".news-about.jsx-4146117004{font-size:14px;color:#777;}\", \".news-time.jsx-4146117004{color:#777;}\", \".mode2.jsx-4146117004{height:102px;padding:10px 0;border-bottom:1px solid #e8e8e8;}\", \".mode2-left.jsx-4146117004{width:158px;height:102px;margin-right:16px;overflow:hidden;float:left;}\", \".mode2-img.jsx-4146117004{display:inline-block;position:relative;-webkit-transform-style:preserve-3d;-ms-transform-style:preserve-3d;transform-style:preserve-3d;}\", \".mode2-img.jsx-4146117004>img.jsx-4146117004{width:158px;height:102px;-webkit-transition:all 0.5s;transition:all 0.5s;}\", \".video-tip.jsx-4146117004{position:absolute;right:8px;bottom:8px;padding:0 6px 0 18px;background-color:rgba(0,0,0,0.7);border-radius:10px;font-size:12px;color:#fff;height:22px;line-height:22px;}\", \".video-tip.jsx-4146117004::before{content:\\\"\\\";position:absolute;top:7px;left:8px;border-style:solid;border-width:5px;border-color:transparent transparent transparent #fff;}\", \".mode2-right.jsx-4146117004{overflow:hidden;height:100%;position:relative;}\", \".mode2-news.jsx-4146117004{display:inline-block;width:100%;vertical-align:middle;position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);}\", \".news-footer-right.jsx-4146117004{float:right;}\", \".dislike.jsx-4146117004{height:20px;width:20px;}\", \".close.jsx-4146117004{font-size:12px;color:#ddd;}\"]\n    })]\n  });\n}"]}}